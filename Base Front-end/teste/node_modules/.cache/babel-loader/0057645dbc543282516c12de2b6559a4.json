{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Igor Ortega\\\\Documents\\\\GitHub\\\\Escola-de-Aviacao-EngSoft\\\\Base Front-end\\\\teste\\\\src\\\\pages\\\\paginaBuscaVooAluno.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport '../css/paginaBuscaVooAluno.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport Naveg from '../components/Naveg';\nimport Busca_Voo_Id from '../components/Busca_Voo_Id';\nimport Busca_Voo_Matricula from '../components/Busca_Voo_Matricula';\n\nclass paginaBuscaVooAluno extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.escolha == 1) {\n        axios.get('https://testeparaaviacao.herokuapp.com/api/Voo', {\n          params: {\n            voo_id: this.state.input\n          }\n        }).then(res => {\n          if (res.data.status === 'success') {\n            this.setState({\n              data_voo: res.data.data.data_voo\n            });\n            this.setState({\n              hora_inicio: res.data.data.hora_inicio\n            });\n            this.setState({\n              horas_total: res.data.data.horas_total\n            });\n            this.setState({\n              nota: res.data.data.nota\n            });\n            this.setState({\n              instrutor_id: res.data.data.instrutor_id\n            });\n            this.setState({\n              aluno_id: res.data.data.aluno_id\n            });\n            this.setState({\n              success: true\n            });\n          }\n\n          console.log(res.data.status);\n          console.log(res);\n          console.log(res.data);\n        }).catch(function (error) {\n          if (error.response) {\n            alert(error.response.data.message);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          } else if (error.request) {\n            console.log(error.request);\n          } else {\n            console.log('Error', error.message);\n          }\n\n          console.log(error.config);\n        });\n      } else if (this.state.escolha == 2) {\n        // busca por número de Matrícula\n        axios.get('https://testeparaaviacao.herokuapp.com/api/VooAluno', {\n          params: {\n            aluno_id: this.state.input\n          }\n        }).then(res => {\n          if (res.data.status === 'success') {\n            this.setState({\n              dados_voo_aluno: res.data.data\n            });\n            this.setState({\n              success: true\n            });\n          }\n\n          console.log(res.data.status);\n          console.log(res);\n          console.log(res.data);\n        }).catch(function (error) {\n          if (error.response) {\n            alert(error.response.data.message);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          } else if (error.request) {\n            console.log(error.request);\n          } else {\n            console.log('Error', error.message);\n          }\n\n          console.log(error.config);\n        });\n      }\n    };\n\n    this.handleEscolhaChange = this.handleEscolhaChange.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.state = {\n      escolha: '',\n      input: '',\n      data_voo: '',\n      hora_inicio: '',\n      horas_total: '',\n      nota: '',\n      instrutor_id: '',\n      aluno_id: '',\n      voo_id: '',\n      dados_voo_aluno: '',\n      success: false\n    };\n  }\n\n  handleEscolhaChange(e) {\n    this.setState({\n      escolha: e.target.value\n    });\n  }\n\n  handleInputChange(e) {\n    this.setState({\n      input: e.target.value\n    });\n  }\n\n  render() {\n    if (this.state.escolha == 1 && this.state.success == true) {\n      return React.createElement(\"div\", {\n        className: \"pagina\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Busca_Voo_Id, {\n        voo_id: this.state.input,\n        aluno_id: this.state.aluno_id,\n        instrutor_id: this.state.instrutor_id,\n        data_voo: this.state.data_voo,\n        hora_inicio: this.state.hora_inicio,\n        horas_total: this.state.horas_total,\n        nota: this.state.nota,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"buttonDanger\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"link\",\n        to: \"/aluno\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Voltar\")));\n    } else if (this.state.escolha == 2 && this.state.success == true) {\n      return React.createElement(\"div\", {\n        className: \"pagina\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Busca_Voo_Matricula, {\n        dados_voo_aluno: this.state.dados_voo_aluno,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"buttonDanger\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Link, {\n        id: \"link\",\n        to: \"/aluno\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Voltar\")));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"pagina\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Naveg, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Busca Voo Aluno\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Escolha se deseja buscar por Id do voo ou listar todos os voos por n\\xFAmero de matr\\xEDcula\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      type: \"text\",\n      name: \"escolha\",\n      value: this.props.escolha,\n      onChange: this.handleEscolhaChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Modo de Busca\"), React.createElement(\"option\", {\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Id Voo\"), React.createElement(\"option\", {\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"N\\xFAmero De Matr\\xEDcula\")), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"input\",\n      value: this.state.input,\n      onChange: this.handleInputChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      id: \"buttonSuccess\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Enviar\")), React.createElement(\"button\", {\n      id: \"buttonDanger1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Link, {\n      id: \"link\",\n      to: \"/aluno\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Voltar\")));\n  }\n\n}\n\nexport default paginaBuscaVooAluno;","map":{"version":3,"sources":["C:\\Users\\Igor Ortega\\Documents\\GitHub\\Escola-de-Aviacao-EngSoft\\Base Front-end\\teste\\src\\pages\\paginaBuscaVooAluno.js"],"names":["React","Component","axios","Link","Redirect","Naveg","Busca_Voo_Id","Busca_Voo_Matricula","paginaBuscaVooAluno","constructor","props","handleSubmit","event","preventDefault","state","escolha","get","params","voo_id","input","then","res","data","status","setState","data_voo","hora_inicio","horas_total","nota","instrutor_id","aluno_id","success","console","log","catch","error","response","alert","message","headers","request","config","dados_voo_aluno","handleEscolhaChange","bind","handleInputChange","e","target","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport '../css/paginaBuscaVooAluno.css';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport Naveg from '../components/Naveg';\r\nimport Busca_Voo_Id from '../components/Busca_Voo_Id';\r\nimport Busca_Voo_Matricula from '../components/Busca_Voo_Matricula';\r\n\r\nclass paginaBuscaVooAluno extends Component {\r\n constructor(props) {\r\n   super(props);\r\n   this.handleEscolhaChange=this.handleEscolhaChange.bind(this);\r\n   this.handleInputChange=this.handleInputChange.bind(this);\r\n   this.state = {\r\n      escolha: '',\r\n      input: '',\r\n      data_voo: '',\r\n      hora_inicio: '',\r\n      horas_total: '',\r\n      nota: '',\r\n      instrutor_id: '',\r\n      aluno_id: '',\r\n      voo_id: '',\r\n      dados_voo_aluno: '',\r\n      success: false\r\n  };\r\n}\r\n\r\nhandleEscolhaChange(e) {\r\n   this.setState({escolha: e.target.value,});\r\n}\r\n\r\nhandleInputChange(e) {\r\n   this.setState({input: e.target.value,});\r\n}\r\n\r\nhandleSubmit = event => {\r\n   event.preventDefault();\r\n   if(this.state.escolha == 1) {\r\n      axios.get('https://testeparaaviacao.herokuapp.com/api/Voo',{params: {voo_id:this.state.input}})\r\n     .then(res => {\r\n          if (res.data.status === 'success'){\r\n             this.setState({data_voo: res.data.data.data_voo});\r\n             this.setState({hora_inicio: res.data.data.hora_inicio});\r\n             this.setState({horas_total: res.data.data.horas_total});\r\n             this.setState({nota: res.data.data.nota});\r\n             this.setState({instrutor_id: res.data.data.instrutor_id});\r\n             this.setState({aluno_id: res.data.data.aluno_id});\r\n             this.setState({success: true});\r\n          }\r\n          console.log(res.data.status);\r\n          console.log(res);\r\n          console.log(res.data);\r\n          \r\n    })\r\n     .catch(function (error) {\r\n          if (error.response) {\r\n             alert(error.response.data.message);\r\n             console.log(error.response.status);\r\n             console.log(error.response.headers);\r\n          } else if (error.request) {\r\n             console.log(error.request);\r\n          } else {\r\n\r\n             console.log('Error', error.message);\r\n          }\r\n          console.log(error.config);\r\n     })\r\n   }\r\n   else if (this.state.escolha == 2) {\r\n      // busca por número de Matrícula\r\n      axios.get('https://testeparaaviacao.herokuapp.com/api/VooAluno',{params: {aluno_id:this.state.input}})\r\n     .then(res => {\r\n          if (res.data.status === 'success'){\r\n             this.setState({dados_voo_aluno: res.data.data});\r\n             this.setState({success: true});\r\n          }\r\n          console.log(res.data.status);\r\n          console.log(res);\r\n          console.log(res.data);\r\n          \r\n    })\r\n     .catch(function (error) {\r\n          if (error.response) {\r\n             alert(error.response.data.message);\r\n             console.log(error.response.status);\r\n             console.log(error.response.headers);\r\n          } else if (error.request) {\r\n             console.log(error.request);\r\n          } else {\r\n\r\n             console.log('Error', error.message);\r\n          }\r\n          console.log(error.config);\r\n     })\r\n   }\r\n   \r\n}\r\n\r\n render() {\r\n   if (this.state.escolha == 1 && this.state.success == true){\r\n       return (\r\n               <div className=\"pagina\">\r\n                  <Busca_Voo_Id \r\n                  voo_id={this.state.input}\r\n                  aluno_id={this.state.aluno_id}\r\n                  instrutor_id={this.state.instrutor_id}\r\n                  data_voo={this.state.data_voo}\r\n                  hora_inicio={this.state.hora_inicio}\r\n                  horas_total={this.state.horas_total}\r\n                  nota={this.state.nota}\r\n                  />\r\n                  <button id=\"buttonDanger\" type=\"submit\">\r\n                     <Link id=\"link\" to=\"/aluno\">Voltar</Link>\r\n                  </button>\r\n              </div>\r\n            );\r\n   }\r\n   else if (this.state.escolha == 2 && this.state.success == true){\r\n       return (\r\n               <div className=\"pagina\">\r\n                  <Busca_Voo_Matricula \r\n                  dados_voo_aluno={this.state.dados_voo_aluno}\r\n                  />\r\n                  <button id=\"buttonDanger\" type=\"submit\">\r\n                     <Link id=\"link\" to=\"/aluno\">Voltar</Link>\r\n                  </button>\r\n               </div>\r\n                );\r\n   }\r\n   return (\r\n      <div className=\"pagina\">\r\n      <Naveg/>\r\n      <form onSubmit={this.handleSubmit}>\r\n          <h1>Busca Voo Aluno</h1><br/><br/>\r\n          <h2 className=\"info\">Escolha se deseja buscar por Id do voo ou listar todos os voos por número de matrícula</h2>\r\n          <br/>\r\n          <select type=\"text\" name=\"escolha\" value={this.props.escolha} onChange={this.handleEscolhaChange}>\r\n                        <option value={''}>Modo de Busca</option>\r\n                        <option value={1}>Id Voo</option>\r\n                        <option value={2}>Número De Matrícula</option>\r\n          </select> \r\n          <input type=\"text\" name=\"input\" value={this.state.input} onChange={this.handleInputChange}></input><br/>\r\n          <button id=\"buttonSuccess\" type=\"submit\">Enviar</button>\r\n     </form>\r\n     <button id=\"buttonDanger1\">\r\n             <Link id=\"link\" to=\"/aluno\">Voltar</Link>\r\n     </button>\r\n     </div>\r\n  );\r\n}\r\n\r\n}\r\nexport default paginaBuscaVooAluno;"]},"metadata":{},"sourceType":"module"}